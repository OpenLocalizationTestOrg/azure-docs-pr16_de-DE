<properties
   pageTitle="Verfügbarkeitscheckliste | Microsoft Azure"
   description="Checkliste, die Anleitungen zu Bedenken hinsichtlich der Verfügbarkeit während des Entwurfs enthält."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="availability-checklist"></a>Verfügbarkeitscheckliste

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="application-design"></a>Entwerfen der Anwendung

- **Vermeiden Sie eine beliebige einzelne Punkt des Fehlers.** Alle Komponenten, Dienste, Ressourcen und Computinginstanzen sollten als mehrerer Instanzen, um zu verhindern, dass einen einzelnen Punkt des Fehlers Auswirkungen Verfügbarkeit bereitgestellt werden. Dies umfasst Authentifizierungsmechanismen. Entwerfen der Anwendung konfigurierbare mehrerer Instanzen verwenden und auf Automatisches Erkennen von Fehlern und leiten Sie Besprechungsanfragen an-Fehler beim Instanzen, in dem die Plattform automatisch das Kontrollkästchen nicht werden.
- **Gliedern Sie die Arbeitsbelastung pro anderen Vereinbarung zum Servicelevel.** Wenn aus ein Dienst besteht wird kritischen und weniger kritische Auslastung anders zu verwalten, und geben Sie die Service-Features und die Anzahl der Instanzen an ihre Bedürfnisse Verfügbarkeit.
- **Minimieren und Dienst Abhängigkeiten zu verstehen.** Minimieren Sie die Anzahl von anderen Diensten verwendet, soweit möglich, und stellen Sie sicher, dass Sie alle die Features und Dienste Abhängigkeiten kennen, die im System vorhanden sind. Dies umfasst die Art der folgenden Abhängigkeiten und den Einfluss der Fehler oder verringert Leistung in jeweils auf der gesamten Anwendung. Microsoft garantiert mindestens an, dass die Verfügbarkeit von 99,9 Prozent für die meisten Dienste, aber dies bedeutet, dass jede zusätzliche erbrachte Anwendung potenziell benötigt die allgemeine Verfügbarkeit Vereinbarung zum SERVICELEVEL von Ihrem System durch 0,1 Prozent reduziert.
- **Entwerfen, Aufgaben und Nachrichten Idempotent (sicheres wiederholt) soweit möglich sein**, damit die Anfragen dupliziert werden keine Probleme verursachen. Beispielsweise kann ein Dienst als Consumer fungieren, der von anderen Teile des Systems, die als Hersteller dienen als Anfragen gesendete Nachrichten verarbeitet. Wenn der Consumer fehlschlägt, nach dem Verarbeiten der Nachricht, aber vor dem bestätigen, dass sie verarbeitet wurde, möglicherweise ein Hersteller anfordern eines Wiederholen das behandelt werden konnte von einer anderen Instanz von Consumer. Daher sollten Nutzer und die Vorgänge, die sie ausführen, Idempotent sein, damit wiederholte einer zuvor ausgeführten Vorgangs keine Ergebnisse ungültige wiedergibt. Dies kann bedeuten Erkennen von Nachrichten dupliziert oder Gewährleistung der Konsistenz mithilfe einer optimistischen Verfahren zur Behandlung von Konflikten.
- **Verwenden Sie eine Nachricht Bank, der hohen Verfügbarkeit für wichtige Transaktionen implementiert.** Viele Szenarien für das initiieren Aufgaben oder den Zugriff auf remote-Dienste verwenden messaging, um Anweisungen zwischen der Anwendung und die Zieldienst zu übergeben. Zur Optimierung der Systemleistung sollte die Anwendung Lage, senden Sie die Nachricht, und folgen Sie dann um mehr Anfragen zu verarbeiten, ohne eine Antwort zu warten. Damit sichergestellt ist der Übermittlung von Nachrichten, sollte der Nachrichtensystems hohe Verfügbarkeit zu gewährleisten. Azure Nachricht Servicebuswarteschlangen implementieren _mindestens einmal_ Semantik. Dies bedeutet, dass jede Nachricht an eine Warteschlange gebucht nicht verloren geht, obwohl Duplikate unter bestimmten Umständen übermittelt werden können. Verarbeitung von Nachrichten Idempotent ist (Siehe das vorherige Element) wiederholt Übermittlung sollten sich nicht auf ein Problem aufgetreten.
- **Entwurf von Applications zu ordnungsgemäß eingeschränkt werden** beim Eingang Ressource Grenzwerte und entsprechende Aktion ausgeführt, den Einfluss für den Benutzer zu minimieren. In einigen Fällen die Belastung der Anwendung möglicherweise überschreiten die Kapazität einer oder mehrere Webparts, die bewirken, dass Verfügbarkeit verringert und Fehler bei Verbindungen. Skalierung kann dazu beitragen Lösung dieses Problems, aber es kann maximal durch andere Faktoren, wie die Verfügbarkeit von Ressourcen oder Kosten auferlegt erreichen. Entwerfen Sie die Anwendung, sodass in diesem Fall es automatisch ordnungsgemäß beeinträchtigt werden kann. Angenommen, in einem e-Commerce-System, ist die Reihenfolge Prozessorsubsystem unter Belastung (oder sogar vollständig ausgefallen), vorübergehend deaktiviert werden und sonstige Funktionen (wie etwa Browsermodus Produktkatalog) gleichzeitig fortsetzen. Es möglicherweise verschoben werden Anfragen zu einem fehlerhaften Subsystem, beispielsweise weiterhin Aktivierung Kunden Bestellungen und übermitteln Sie jedoch Speicherung zur späteren Verarbeitung, wenn Teilsystems Bestellungen wieder verfügbar ist.
- **Schnelle Burst Ereignisse ordnungsgemäß behandelt werden.** Die meisten Applikationen müssen mit wechselnder Auslastung helfen kann im Laufe der Zeit wie Spitzen zunächst darauf, dass in den Morgen zu einer Geschäftsanwendung oder wenn Sie ein neues Produkt in einer e-Commerce-Website veröffentlicht wird. Automatische Skalierung helfen kann, damit die Last bewältigt, aber es möglicherweise etwas dauern zusätzliche Instanzen auf online und Anfragen behandelt. Verhindern, dass plötzlich und unerwartet Aktivitätsschübe überfluten der Anwendungs: Entwerfen Sie es auf Warteschlange Anfragen mit den Diensten verwendet und ohne Probleme beim nahe vollen Kapazität sind. Stellen Sie sicher, dass es ausreichend Leistung und Kapazität unter Umständen kein Burst, die Warteschlangen abzuleiten und Behandeln von ausstehenden Anfragen verfügbar. Weitere Informationen finden Sie in der [Warteschlange-basierten laden Kapazitätsabgleich Muster](https://msdn.microsoft.com/library/dn589783.aspx).

## <a name="deployment-and-maintenance"></a>Bereitstellung und Wartung

- **Bereitstellen Sie mehrerer Instanzen von Rollen für jeden Dienst.** Microsoft übernimmt Verfügbarkeit Garantie für Dienste, die Sie erstellen und bereitstellen, aber diese Garantien sind nur gültig, wenn Sie mindestens zwei Instanzen für jede Rolle im Dienst bereitstellen. Dadurch wird eine Rolle nicht verfügbar sein, während die anderen aktiv bleibt. Dies ist besonders wichtig, wenn Sie Updates für live-System bereitstellen, ohne zu unterbrechen Clients Aktivitäten müssen; Instanzen können erfasste nach unten und einzeln aktualisiert werden, während die anderen online weiterhin ausgeführt werden.
- **Host Applications in mehreren Rechenzentren.** Auch extrem wahrscheinlich nicht, ist es, bis ein Ereignis wie Naturkatastrophen oder Internet Fehler Offlinemodus für eine gesamte Datacenter möglich. Wichtige geschäftliche Applikationen sollte in mehreren Datacenter zur Bereitstellung maximalen Verfügbarkeit gehostet werden. Dies kann Wartezeit für lokale Benutzer zu verringern, und bieten zusätzliche für Flexibilität beim Aktualisieren von Applications.
- **Automatisieren Sie und Testen Sie der Bereitstellung und Wartungsaufgaben.** Verteilte Applikationen bestehen mehrere Teile, die zusammenarbeiten müssen. Bereitstellung sollten daher automatisierte werden mithilfe der getestete und bewährte Verfahren, wie z. B. Skripts und Bereitstellung von Applications. Diese können aktualisieren und überprüfen Sie die Konfiguration und Bereitstellung automatisieren. Automatisierte Techniken sollten auch zum Durchführen von Aktualisierungs-, der alle oder Teile von Applications verwendet werden. Es ist entscheidend, Testen alle der folgenden Prozesse vollständig, um sicherzustellen, dass Fehler keine zusätzliche Ausfallzeiten verursachen. Alle Bereitstellungstools müssen geeignete Sicherheit Einschränkungen bereitgestellte Anwendung schützen; Definieren Sie und erzwingen Sie Bereitstellungsrichtlinien sorgfältig, und sorgen Sie dafür, dass Menschen Eingriff.
- **Staging und Herstellung Features der Plattform in Erwägung** , wenn diese verfügbar sind. Zum Beispiel ist die Staging und Herstellung Azure Cloud Services-Umgebungen mit Anwendung aus einer mit einem anderen sofort über eine virtuelle IP-Adresse austauschen (VIP austauschen) aktiviert werden. Jedoch, wenn Sie lieber Phaseneigenschaften lokal oder unterschiedliche Versionen der Anwendung gleichzeitig bereitstellen und schrittweise Migration von Benutzern, Sie verwenden ein Vorgangs VIP austauschen möglicherweise nicht.
- **Ändern der Konfiguration übernehmen ohne Wiederverwendung** die Instanz, falls möglich. In vielen Fällen können die Konfiguration Einstellungen für eine Azure-Anwendung oder den Dienst geändert werden, ohne die Rolle neu gestartet werden. Rolle Ereignisse verfügbar machen, die behandelt werden können, um die Konfiguration Änderungen erkennen und Komponenten innerhalb der Anwendung zuweisen. Bei einigen Änderungen an den Core Plattform Einstellungen benötigen jedoch eine Rolle neu gestartet werden. Beim Erstellen von Komponenten und Dienste Maximieren Sie Verfügbarkeit und minimieren Sie Ausfallzeiten durch entwerfen, damit die Änderungen an der Konfiguration Einstellungen übernehmen, ohne die gesamte Anwendung neu gestartet werden.
- **Verwenden von Upgrade Domänen Ausfallzeiten während Updates.** Azure berechnen Einheiten wie Web und Worker-Rollen Domänen Upgrade zugeordnet sind. Upgrade Domänen gruppieren Rolleninstanzen so, dass, wenn ein paralleles Update stattfindet, jede Rolle in die Upgrade-Domäne ist nicht mehr aktualisiert und neu wiederum gestartet. Dadurch wird die Auswirkung auf die Verfügbarkeit der Anwendung minimiert. Sie können angeben, wie viele Upgrade Domänen für einen Dienst erstellt werden soll, wenn der Dienst bereitgestellt wird.

    > [AZURE.NOTE] Rollen sind auch auf Fehlerstrukturanalyse-Domänen verteilt, von die jede aus anderen Domänen Fehlerstrukturanalyse im Zusammenhang mit den Shapes für Gestelle Server, Power und bereitstellen, um die Wahrscheinlichkeit eines Fehlers Auswirkungen alle Rolleninstanzen minimieren Kühlung einigermaßen unabhängig ist. Diese Verteilung erfolgt automatisch, und Sie können nicht zu steuern.

- **Konfigurieren der Verfügbarkeit von Sätzen für Azure-virtuellen Computern.** Platzieren zwei oder mehr virtuellen Computern in derselben garantiert Verfügbarkeit festlegen, dass diese virtuellen Computer nicht in der gleichen Fehlerstrukturanalyse-Domäne bereitgestellt werden soll. Um Verfügbarkeit maximieren, sollten Sie Erstellen mehrerer Instanzen von jeder kritischen virtuellen Computern, die von Ihrem System verwendet und platzieren Sie diese Instanzen derselben Verfügbarkeit festlegen. Wenn Sie mehrere virtuelle Computer, der andere Zwecke ausgeführt werden, erstellen Sie eine Verfügbarkeit für jeden virtuellen Computer festlegen. Instanzen der einzelnen virtuellen Computer auf die einzelnen Verfügbarkeit hinzufügen. Beispielsweise, wenn Sie separaten virtuellen Computern als einen Webserver und einen Berichtsserver fungieren erstellt haben, erstellen Sie eine Verfügbarkeit für den Webserver festlegen und eine andere Verfügbarkeit für den Berichtsserver festlegen. Fügen Sie Instanzen des Web Server virtuellen Computers für die Verfügbarkeit der Web Server festlegen und Hinzufügen von Instanzen des reporting Server virtuellen Computers zu reporting Server Verfügbarkeit festlegen.

## <a name="data-management"></a>Datenverwaltung

- **Nutzen Datenreplikation** durch lokale und geografische Redundanz aus. Daten in Azure-Speicher werden automatisch zum Schutz vor Datenverlust im Fall eines Fehlers Infrastruktur repliziert und einige Aspekte des diese Replikation konfiguriert werden können. Beispielsweise werden möglicherweise schreibgeschützt Kopien von Daten in mehrere geografische Region (als Lesezugriff Global redundante Speicherung oder RAS-GRS bezeichnet) repliziert. Beachten Sie, dass mit RAS-GRS zusätzliche Gebühren anfallen. Weitere Informationen finden Sie unter [Azure Speicher Preise](https://azure.microsoft.com/pricing/details/storage/).
- **Vollständige Parallelität verwenden und tatsächlichen Konsistenz** soweit möglich. Transaktionen blockieren des Zugriffs auf Ressourcen durch das Sperren (eingeschränkte Parallelität) Leistung beeinträchtigt und Verfügbarkeit erheblich reduzieren kann. Diese Probleme können besonders Spitzen in verteilten Systemen machen. In vielen Fällen können Entwurf sorgfältig und Techniken, wie z. B. Partitionierung die Wahrscheinlichkeit, dass widersprüchliche Aktualisierungen auftritt minimieren. Wobei Daten repliziert oder aus einem separat aktualisierte Speicher zu lesen ist, werden die Daten nur Gelegenheit konsistent sein. Aber Vorteile normalerweise stärker den Einfluss auf die Verfügbarkeit von Transaktionen verwenden, um die sofortige Konsistenz sicherzustellen.
- **Periodische sichern und Wiederherstellen von-Zeitpunkt verwenden**möchten, und stellen Sie sicher, es entspricht der Wiederherstellung zeigen Ziel (RPO). Regelmäßig automatisch Sichern von Daten, die nicht an anderer Stelle beibehalten werden, und stellen Sie sicher, dass Sie sowohl die Daten in der Anwendung selbst zuverlässig wiederherstellen können sollte ein Fehler auftreten. Datenreplikation ist kein Sicherung Feature, da Fehler und Inkonsistenzen eingeführt werden durch Fehler, Fehler oder bösartiger Vorgänge für alle Speicher repliziert werden sollen. Die Sicherung muss secure zum Schutz der Daten, die bei der Übertragung und im Speicher. Datenbanken oder Teile eines Datenspeicher können in der Regel zu einem vorherigen Punkt Zeitpunkt wiederhergestellt werden mithilfe der Transaktionsprotokolle. Microsoft Azure bietet eine Sicherung Einrichtung für Daten in Azure SQL-Datenbank gespeichert. Die Daten in einer Sicherungskopie Packung auf Azure Blob-Speicher exportiert und an einem sicheren lokalen Speicherort für die Speicherung heruntergeladen werden können.
- **Aktivieren Sie die Option hohe Verfügbarkeit eine sekundäre Kopie einer Azure Redis Cache verwalten.** Wenn Azure Redis Cache verwenden, wählen Sie die Option standard zum Verwalten einer sekundären Kopie des Inhalts aus. Weitere Informationen finden Sie unter [Erstellen eines Cache in Azure Redis Cache](https://msdn.microsoft.com/library/dn690516.aspx).

## <a name="errors-and-failures"></a>Fehler und Fehlern

- **Führen Sie das Konzept von einem Timeout.** Dienste und Ressourcen möglicherweise nicht verfügbar, die bewirken, dass Anfragen zum fehlschlagen. Sicherstellen, dass das Zeitlimit, das Sie anwenden für jeden Dienst oder Ressource geeignet sind sowie den Client, der sie den Zugriff auf ist. (In einigen Fällen ist möglich entsprechenden einen längeren Timeout für eine bestimmte Instanz eines Clients, je nach Kontext und andere Aktionen, die der Client ausführt, dürfen.) Kürzester Zeitlimit möglicherweise übermäßige "Wiederholen" Vorgänge für Dienstleistungen und Ressourcen, die dazu Wartezeit aufweisen. Blockieren, wenn eine große Anzahl von Besprechungsanfragen in der Warteschlange befinden, warten auf einen Dienst oder eine Ressource reagiert, kann sehr lange Zeitlimit verursachen.
- **Wiederholen Sie fehlgeschlagene Vorgänge durch vorübergehenden Fehler verursacht.** Entwerfen einer Strategie "Wiederholen" für den Zugriff auf alle Dienste und Ressourcen, die Stelle, an der sie nicht grundsätzlich automatische Verbindungsversuch unterstützen. Verwenden Sie eine Strategie, die eine Prozessfortschritt Verzögerung zwischen Wiederholungsversuche als die Anzahl der Misserfolge erhöht, um Überlastung der Ressource zu vermeiden und ermöglichen es ordnungsgemäß wiederherzustellen und die Anforderungen in der Warteschlange verarbeitet enthält. Kontinuierlichen Wiederholungsversuche mit sehr kurzen Verzögerung sind wahrscheinlich das Problem verschlimmern.
- **Beenden, senden Besprechungsanfragen cascading Fehler zu vermeiden** , wenn remote-Dienste nicht verfügbar sind. Es gibt möglicherweise Situationen, in denen vorübergehend oder andere Fehler, die im Bereich in schwere aus einem teilweisen Verlust der Konnektivität zu dem Fehler abgeschlossen für den Dienst viel mehr Zeit als erwartet benötigt, um zum normalen zurückzukehren erstellen. Darüber hinaus ist ein Dienst sehr beschäftigt sind, Setupfehler in einem Teil des Systems möglicherweise zu cascading Fehlern führen und dazu führen, dass viele Vorgänge gedrückt auf kritische Systemressourcen wie z. B. Arbeitsspeicher, Threads und Datenbankverbindungen blockiert. Statt ständig wiederholen eines Vorgangs, das wahrscheinlich nicht erfolgreich ist, sollte die Anwendung schnell akzeptieren, dass der Vorgang fehlgeschlagen ist, und dieser Fehler ordnungsgemäß behandelt werden. Sie können das Sicherung Muster verwenden, um Besprechungsanfragen für bestimmte Vorgänge für definierten Perioden abzulehnen. Weitere Informationen hierzu finden Sie unter [Schutzschalter Muster](https://msdn.microsoft.com/library/dn589784.aspx).
- **Verfassen oder Herbst wieder an mehrere Komponenten** zum Verringern des Einfluss der einen bestimmten Dienst, der offline oder nicht verfügbar. Entwerfen von Applications zu mehrerer Instanzen ohne beeinflussen Vorgang und vorhandene Verbindungen mögliche nutzen. Verwenden Sie mehrerer Instanzen und verteilen Sie Besprechungsanfragen dazwischen, und erkennen Sie und vermeiden Sie senden von Anfragen an fehlgeschlagene Instanzen, um die Verfügbarkeit zu optimieren.
- **Zurück zu einem anderen Dienst oder Workflow Herbst** soweit möglich. Angenommen, wenn das Schreiben in SQL-Datenbank fehlschlägt, vorübergehend speichern Sie Daten in Blob-Speicher. Bieten Sie eine Wiedergeben der schreibt im BLOB-Speicher mit SQL-Datenbank aus, wenn der Dienst verfügbar ist. In einigen Fällen möglicherweise ein fehlgeschlagener Vorgang im alternativen Aktion, die die Anwendung weiterhin arbeiten, auch wenn eine Komponente oder einen bestimmten Dienst fehlschlägt ermöglicht. Falls möglich, erkennen Sie defekte und umleiten Sie Serviceanfragen anderen Diensten, die eine geeignete alternative Funktionen anbieten können oder Sichern oder mit eingeschränkter Funktionalität Instanzen, die wichtigsten Vorgänge verwalten können, während der primäre Dienst offline ist.

## <a name="monitoring-and-disaster-recovery"></a>Für die Überwachung und Disaster Wiederherstellung

- **Bereitstellen von Rich-Instrumentation für wahrscheinlich Fehlern und fehlgeschlagene Ereignisse** , die Situation an die Mitarbeiter zu melden. Für Fehler, die wahrscheinlich sind aber noch nicht aufgetreten ist, ausreichend Daten zum Aktivieren von IT-Mitarbeiter die Ursache zu ermitteln, die Situation minimieren bereitstellen, und stellen Sie sicher, dass das System verfügbar bleibt. Für Fehler, die bereits aufgetreten sind, sollte die Anwendung eine entsprechende Fehlermeldung an den Benutzer zurück jedoch weiterhin ausgeführt, obgleich mit eingeschränkter Funktionalität versuchen. In allen Fällen sollte das System der Überwachung umfassende Details IT-Mitarbeiter eine schnelle Wiederherstellung, Effekt aktivieren erfassen und gegebenenfalls für Designer und Entwickler so ändern Sie das System zu verhindern, dass die Situation aus, die entstehen erneut.
- **Überwachen des Systemzustands durch fehlerüberprüfung Funktionen implementieren.** Die Gesundheit und die Leistung einer Anwendung können im Laufe der Zeit beeinträchtigt werden ohne auffällig wird, bis sie fehlschlägt. Implementieren der Prüfpunkte oder Überprüfen von Funktionen, die von außerhalb der Anwendung regelmäßig ausgeführt werden. Diese Prüfungen können so einfach wie das Messen der Antwortzeit für die Anwendung als Ganzes, für einzelne Teile der Anwendung, für die einzelnen Dienste, die die Anwendung verwendet oder für einzelne Komponenten sein. Überprüfen Sie, dass Prozesse, um sicherzustellen, diese zu gültige Ergebnissen führen, Wartezeit messen Verfügbarkeit prüfen und Extrahieren von Informationen aus dem System Funktionen ausgeführt werden können.
- **Alle Failover und fallbackabfragen Systeme regelmäßig zu testen** , um sicherzustellen, dass sie verfügbar sind, und wie erwartet funktionieren. Änderungen an Systeme und Vorgänge beeinträchtigen Failover- und fallbackabfragen Funktionen, aber der Einfluss möglicherweise nicht erkannt, bis das Hauptfenster System fehlschlägt oder überlastet. Testen Sie Sie, bevor sie für ein live Problem zur Laufzeit zukommen lassen benötigt wird.
- **Testen Sie die Überwachung Systeme.** Automatisches Failover und fallbackabfragen Systeme und manuelle Visualisierung Systemzustand und Leistung mithilfe von Dashboards, hängen alle Überwachung und Instrumentation ordnungsgemäß funktioniert. Wenn diese Elemente, entgehen kritische Informationen fehl oder falsche Daten melden möchten, ein Operators nicht stellen Sie fest, dass das System fehlerhaften oder defekte.
- **Verfolgen Sie den Fortschritt des Workflows langer** und "Wiederholen" auf Fehler. Langer Workflows bestehen häufig aus mehreren Schritten. Stellen Sie sicher, dass die einzelnen Schritte unabhängig ist und wiederholt werden kann, um das Risiko zu minimieren, das der gesamte Workflow rückgängig gemacht werden muss oder mehrere Kompensationstransaktionen ausgeführt werden müssen. Überwachen Sie und verwalten Sie den Fortschritt des Workflows langer, indem Sie ein Muster wie [Scheduler Agent Vorgesetzten Muster](https://msdn.microsoft.com/library/dn589780.aspx).
- **Plan für die Wiederherstellung.** Stellen Sie sicher, dass es ein zulässigen, vollständig getesteter und dokumentierter Plan für Wiederherstellung aus jeder Art von Ausfall, die Teil gerendert werden kann oder alle im Hauptfenster System nicht verfügbar ist. Testen Sie die Verfahren regelmäßig, und stellen Sie sicher, dass alle Mitarbeiter mit dem Prozess vertraut sind.
