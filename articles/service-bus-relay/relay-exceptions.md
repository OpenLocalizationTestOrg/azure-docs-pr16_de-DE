<properties 
    pageTitle="Weiterleiten von Ausnahmen | Microsoft Azure"
    description="Liste der Ausnahmen Relay und vorgeschlagene Aktionen."
    services="service-bus"
    documentationCenter="na"
    authors="jtaubensee"
    manager="timlt"
    editor="tysonn" />
<tags 
    ms.service="service-bus"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/28/2016"
    ms.author="jotaub" />

# <a name="relay-exceptions"></a>Relay Ausnahmen

In diesem Artikel sind einige Ausnahmen aufgeführt, die auf die Microsoft Azure Relay-APIs aufgeführt. Dieser Bezug unterliegt ändern, Sie sollten daher gelegentlich nach Updates.

## <a name="exception-categories"></a>Kategorien für Ausnahmen

Die APIs Relay generieren Ausnahmen, die in den folgenden Kategorien, zusammen mit den zugehörigen Aktion fallen können, die Sie ergreifen können, versuchen, sie zu reparieren.

1.  Benutzer Codierung zurück ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx), [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)). Allgemeine Aktion: versuchen, den Code, bevor Sie fortfahren zu beheben.

2.  Setup-Konfiguration zurück ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Allgemeine Aktion: Überprüfen Sie Ihre Konfiguration, und ändern Sie bei Bedarf.

3.  Vorübergehende Ausnahmen ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Allgemeine Aktion: Wiederholen Sie den Vorgang oder Benutzer benachrichtigen.

4.  Andere Ausnahmen ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx) [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Allgemeine Aktion: speziell für den Typ der Ausnahme; finden Sie in der Tabelle im folgenden Abschnitt. 

## <a name="exception-types"></a>Ausnahmetypen

In der folgenden Tabelle listet messaging Ausnahmetypen und deren Ursachen und Notizen vorgeschlagenen Aktion, die Sie ergreifen können.

| **Typ der Ausnahme**                                                                                                                                                                                                                                                                                | **Beschreibung/Ursache/Beispiele**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Vorgeschlagene Aktion**                                                                                                                                                                                                                                                                                                                                                                                                          | **Beachten Sie bei der automatischen/sofortige Wiederholung**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | Der Server hat nicht auf den Vorgang innerhalb des angegebenen Zeitraums geantwortet, die durch [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx)gesteuert wird. Der Server kann den angeforderten Vorgang abgeschlossen haben. Dies kann geschehen, weil es Netzwerk- oder andere Infrastruktur verzögert.                                                                                                                                                                                                                                                                   | Überprüfen Sie den Systemstatus für Konsistenz, und wiederholen Sie bei Bedarf. Finden Sie unter [Timeout Ausnahmen](#timeoutexception).                                                                                                                                                                                                                                                                                                                                                           | Wiederholen Sie den Vorgang kann in einigen Fällen hilfreich; Wiederholen Sie den Vorgang Logik Code hinzufügen.                                                                      |
| [InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | Der Vorgang des angeforderten Benutzers ist in den Server oder den Dienst nicht zulässig. Die Nachricht Ausnahme Details angezeigt. Beispielsweise generiert [abgeschlossen](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) diese Ausnahme, wenn die Nachricht im Modus **ReceiveAndDelete** empfangen wurde.                                                                                                                                                                                                                                                                                                     | Überprüfen Sie den Code und in der Dokumentation. Stellen Sie sicher, dass der angeforderte Vorgang zulässig ist.                                                                                                                                                                                                                                                                                                                                         | Wiederholen Sie den Vorgang ist nicht hilfreich.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Es wird versucht, einen Vorgang an einem Objekt aufzurufen, die bereits geschlossen, abgebrochen oder freigegeben wurde. In Ausnahmefällen wurde die umgebende Transaktion bereits freigegeben.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Überprüfen Sie den Code, und stellen Sie sicher, dass sie nicht die Vorgänge in einer freigegebenen Objekts aufgerufen wird.                                                                                                                                                                                                                                                                                                                                          | Wiederholen Sie den Vorgang ist nicht hilfreich.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | Das Objekt [TokenProvider](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) konnte nicht erworben werden ein Token, das Token ist ungültig oder das Token enthält nicht die zum Ausführen des Vorgangs erforderlich ist.                                                                                                                                                                                                                                                                                                                                                                                                  | Stellen Sie sicher, dass der token Anbieter mit den richtigen Werten erstellt wird. Überprüfen Sie die Konfiguration des Diensts Access Control.                                                                                                                                                                                                                                                                                                   | Wiederholen Sie den Vorgang kann in einigen Fällen hilfreich; Wiederholen Sie den Vorgang Logik Code hinzufügen.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Ein oder mehrere Argumente für die Methode sind ungültig.<br /> [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) oder [Erstellen](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) angegebene URI enthält Pfad Segment(s).<br /> Das URI-Schema [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) oder [Erstellen](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) angegeben ist ungültig. <br />Wert der Eigenschaft ist größer als 32 KB sein. | Überprüfen Sie den einen Code, und stellen Sie sicher, dass die Argumente korrekt sind.                                                                                                                                                                                                                                                                                                                                                           | Wiederholen Sie den Vorgang ist nicht hilfreich.                                                                                                          |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Dienst kann nicht auf die Anforderung zurzeit nicht verarbeiten.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Client kann einen Zeitraum warten, und wiederholen Sie den Vorgang.                                                                                                                                                                                                                                                                                                                                                           | Client möglicherweise nach einem bestimmten Intervall wiederholen. Wenn eine andere Ausnahme eine Wiederholung ergibt, aktivieren Sie diese Ausnahme Verhalten "Wiederholen" aus. |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | Die messaging Entität hat die zulässige maximale Größe erreicht.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Erstellen Sie Leerzeichen in der Entität durch Empfangen von Nachrichten aus der Entität oder deren untergeordnete Warteschlangen ein. Finden Sie unter [QuotaExceededException](#quotaexceededexception).                                                                                                                                                                                                                                                                                                                                      | "Wiederholen" möglicherweise helfen, wenn Nachrichten in der Zwischenzeit entfernt wurden.                                                               |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | Eine Meldungsnutzlast überschreitet die Beschränkung 256K. Beachten Sie, dass die 256 k Beschränkung der gesamte Nachrichtengröße die Systemeigenschaften und .NET Verwaltungsaufwand enthalten können.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Verringern der Größe des Meldungsinhalts, und wiederholen Sie den Vorgang.                                                                                                                                                                                                                                                                                                                                                         | Wiederholen Sie den Vorgang ist nicht hilfreich.                                                                                                          |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) zeigt an, dass ein Kontingent für eine bestimmte Entität überschritten wurde.

Für die Weiterleitung umschließt diese Ausnahme der [System.ServiceModel.QuotaExceededException](https://msdn.microsoft.com/library/system.servicemodel.quotaexceededexception.aspx), gibt an, dass die maximale Anzahl von Listenern für diesen Endpunkt überschritten wurde. Dies ist der Wert **MaximumListenersPerEndpoint** der Nachricht Ausnahme angezeigt.

## <a name="timeoutexception"></a>TimeoutException 

Ein [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) gibt an, dass ein manueller Vorgang mehr als Zeitlimit für den Vorgang ausführt. 

Überprüfen Sie den Wert der Eigenschaft [ServicePointManager.DefaultConnectionLimit](https://msdn.microsoft.com/library/system.net.servicepointmanager.defaultconnectionlimit) , als dieser Grenzwert kann auch Ursache ein [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)drücken.

Weiterleitung zulässt erhalten Sie möglicherweise Timeout Ausnahmen, beim ersten Öffnen einer Relay-Absender-Verbindung. Es gibt zwei der häufige Ursachen für diese Ausnahme aus:

1. Der Wert [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) ist möglicherweise zu klein (sogar Dezimalbruch einer Sekunde).
2. Die lokale Relay Listener(s) möglicherweise nicht reagiert (oder möglicherweise auftreten Firewall Regeln Probleme untersagt die Listener aus akzeptieren von neuen Clientverbindungen), und der [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) -Wert ist kleiner als ungefähr 20 Sekunden.

Beispiel:

```
'System.TimeoutException’: The operation did not complete within the allotted timeout of 00:00:10. The time allotted to this operation may have been a portion of a longer timeout.
```

### <a name="common-causes"></a>Häufige Ursachen

Es gibt zwei der häufige Ursachen für diesen Fehler: fehlerhafte Konfiguration oder einer vorübergehenden Dienstfehler.

1. **Fehlerhafte Konfiguration** 
    Zeitlimit für den Vorgang ist möglicherweise zu klein, um die Bedingung funktionsfähig. Der Standardwert für das Zeitlimit für den Vorgang im Client SDK ist 60 Sekunden. Aktivieren Sie auf einen anderen Wert zu klein, um festzustellen, ob der Code den Wert aufweist festlegen. Beachten Sie, dass die Bedingung der Netzwerk- und CPU-Auslastung die Zeit auswirken kann, die für einen bestimmten Vorgang abgeschlossen ist, benötigt wird, damit ein Zeitlimit für den Vorgang nicht auf einen sehr kleinen Wert festgelegt werden soll.

2. **Vorübergehenden Dienstfehler** 
    manchmal Relay Verzögerung bei der Verarbeitung von Besprechungsanfragen; auftreten können beispielsweise Zeiten mit hoher Auslastung. In diesen Fällen können Sie den Vorgang nach einer kurzen Verzögerung wiederholen, bis der Vorgang erfolgreich ist. Wenn Sie der gleiche Vorgang weiterhin nach mehreren versuchen fehlschlägt, besuchen Sie die [Azure Service Status-Website](https://azure.microsoft.com/status/) , um festzustellen, ob alle Ausfall eines bekannten Dienstes sind.

## <a name="next-steps"></a>Nächste Schritte:

- [Relay häufig gestellte Fragen](relay-faq.md)
- [Erstellen Sie einen namespace](relay-create-namespace-portal.md)
- [Erste Schritte mit .NET](relay-hybrid-connections-dotnet-get-started.md)
- [Erste Schritte mit Knoten](relay-hybrid-connections-node-get-started.md)